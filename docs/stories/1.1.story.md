# Story 1.1: Project Setup and Development Environment

## Status
Done

## Story
**As a** developer,
**I want** to set up the project structure and development environment,
**so that** the team can begin building the application efficiently.

## Acceptance Criteria
1. Monorepo structure is created with frontend and backend directories
2. React with TypeScript is configured for the frontend application
3. Node.js backend server is set up with Express framework
4. Development environment includes hot reloading and debugging capabilities
5. Basic CI/CD pipeline is configured for automated testing and deployment
6. Environment variables are properly configured for API keys and database connections
7. Project builds successfully and serves a basic "Hello World" interface

## Tasks / Subtasks
- [x] Task 1: Set up monorepo structure (AC: 1)
  - [x] 1.1 Create root project structure with apps/ and packages/ directories
  - [x] 1.2 Set up Turborepo configuration for build orchestration
  - [x] 1.3 Create frontend app directory: apps/web/
  - [x] 1.4 Create backend API directory: apps/api/
  - [x] 1.5 Write tests to verify directory structure

- [x] Task 2: Configure React frontend with TypeScript (AC: 2, 7)
  - [x] 2.1 Write tests for React component rendering
  - [x] 2.2 Initialize React app with Vite bundler in apps/web/
  - [x] 2.3 Configure TypeScript with strict settings
  - [x] 2.4 Set up Tailwind CSS for styling
  - [x] 2.5 Create basic Hello World component
  - [x] 2.6 Verify frontend builds and serves correctly

- [x] Task 3: Set up Node.js backend with Express (AC: 3, 7)
  - [x] 3.1 Write tests for Express server functionality
  - [x] 3.2 Initialize Node.js project in apps/api/
  - [x] 3.3 Configure Express.js with TypeScript
  - [x] 3.4 Set up basic routing structure matching architecture
  - [x] 3.5 Create Hello World API endpoint
  - [x] 3.6 Verify backend server starts and responds

- [x] Task 4: Configure development environment (AC: 4)
  - [x] 4.1 Write tests for development tooling
  - [x] 4.2 Set up hot reloading for frontend with Vite
  - [x] 4.3 Configure nodemon for backend development
  - [x] 4.4 Set up VS Code debugging configuration
  - [x] 4.5 Configure concurrent development script for both apps

- [x] Task 5: Set up SurrealDB integration (AC: 6)
  - [x] 5.1 Write tests for database connectivity
  - [x] 5.2 Add SurrealDB JavaScript SDK dependency
  - [x] 5.3 Create database connection service file
  - [x] 5.4 Configure environment variables for SurrealDB
  - [x] 5.5 Test database connection in development

- [ ] Task 6: Configure CI/CD pipeline (AC: 5)
  - [ ] 6.1 Create GitHub Actions workflow file
  - [ ] 6.2 Set up automated testing for both frontend and backend
  - [ ] 6.3 Configure build verification
  - [ ] 6.4 Set up deployment configuration for Railway/Render

## Dev Notes

### Previous Story Insights
No previous stories exist - this is the foundation story.

### Technology Stack Requirements
**Framework Configuration** [Source: architecture/tech-stack.md]
- Frontend: React 18.2.0 with TypeScript 5.3.3
- Backend: Node.js 20.11.0 LTS with Express.js 4.18.2
- Bundler: Vite 5.0.10 for frontend development
- Build Tool: Turborepo 1.11.2 for monorepo orchestration
- CSS Framework: Tailwind CSS 3.3.6 for utility-first styling

**Database Integration** [Source: architecture/tech-stack.md]
- Primary Database: SurrealDB 2.0+ with surrealdb.js SDK 1.0+
- Authentication: SurrealDB Auth + JWT for user management
- Real-time: SurrealDB Live Queries for live data updates

**Deployment Strategy** [Source: architecture/deployment-architecture.md]
- Development: SurrealDB embedded mode with file storage
- Production Options: Railway/Render free tier or DigitalOcean droplet
- Frontend Hosting: Netlify or Vercel free tier
- Cost Target: $0-6/month + API usage

### Project Structure Requirements
**Monorepo Structure** [Source: architecture/frontend-architecture.md, architecture/backend-architecture.md]
```
apps/
├── web/                          # React frontend application
│   ├── src/
│   │   ├── components/
│   │   │   ├── auth/
│   │   │   ├── learning/
│   │   │   ├── dashboard/
│   │   │   └── age-adaptive/
│   │   ├── hooks/
│   │   ├── services/
│   │   └── stores/
│   └── package.json
└── api/                          # Node.js backend application
    ├── src/
    │   ├── routes/
    │   ├── middleware/
    │   ├── services/
    │   └── types/
    └── package.json
```

### API Architecture Requirements
**Express.js Structure** [Source: architecture/backend-architecture.md]
- Routes: auth.ts, children.ts, learning.ts, assessment.ts, family.ts
- Middleware: auth.ts, coppa.ts, ageGate.ts, familyAccess.ts
- Services: surrealdb.ts, chatgpt.ts, assessment.ts, notifications.ts
- Types: auth.ts, learning.ts, family.ts

### Environment Configuration
**Required Environment Variables** [Source: architecture/tech-stack.md]
- SURREALDB_URL: Database connection string
- SURREALDB_NAMESPACE: Database namespace (homeschool)
- SURREALDB_DATABASE: Database name (main)
- JWT_SECRET: Token signing secret
- OPENAI_API_KEY: ChatGPT integration key

### Testing Requirements
**Testing Strategy** [Source: architecture/tech-stack.md]
- Frontend Testing: Vitest 1.1.0 + React Testing Library 13.4.0
- Backend Testing: Jest 29.7.0 + Supertest 6.3.3
- E2E Testing: Playwright 1.40.1
- Test Structure: Unit tests for components/services, integration tests for APIs, E2E for user workflows

### Development Tooling
**Development Environment** [Source: architecture/tech-stack.md]
- Hot Reloading: Vite for frontend, nodemon for backend
- Type Safety: Strict TypeScript configuration
- Code Quality: ESLint + Prettier configuration
- Debugging: VS Code debugging configuration for both apps

### Security Considerations
**COPPA Compliance Foundation** [Source: architecture/backend-architecture.md]
- Middleware structure for COPPA compliance checks
- Family-scoped authentication system
- Privacy-compliant data collection settings
- Parental control integration points

## Testing

### Test File Locations
- Frontend tests: `apps/web/src/**/*.test.tsx`
- Backend tests: `apps/api/src/**/*.test.ts`
- E2E tests: `tests/e2e/**/*.spec.ts`

### Testing Standards
- Unit tests required for all new components and services
- Integration tests for API endpoints
- Test coverage minimum: 80%
- TDD approach: Write tests before implementation

### Testing Frameworks and Patterns
- Frontend: Vitest + React Testing Library for component testing
- Backend: Jest + Supertest for API testing
- E2E: Playwright for complete user journey testing
- Mocking: Mock SurrealDB connections and external API calls in tests

### Specific Testing Requirements for This Story
- Test monorepo build and deployment processes
- Verify development environment hot reloading
- Test SurrealDB connection and basic operations
- Validate environment variable configuration
- Ensure Hello World interfaces function correctly

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-09-15 | 1.0 | Initial story creation | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used
_To be filled by development agent_

### Debug Log References
_To be filled by development agent_

### Completion Notes List
_To be filled by development agent_

### File List
**Root Configuration:**
- `package.json` - Root package.json with workspaces and Turborepo
- `turbo.json` - Turborepo configuration

**Frontend (apps/web/):**
- `package.json` - Frontend dependencies and scripts
- `tsconfig.json` - TypeScript configuration with strict settings
- `tsconfig.node.json` - Node-specific TypeScript config
- `vite.config.ts` - Vite bundler configuration
- `tailwind.config.js` - Tailwind CSS configuration
- `postcss.config.js` - PostCSS configuration
- `.eslintrc.cjs` - ESLint configuration
- `index.html` - HTML template
- `src/main.tsx` - Application entry point
- `src/App.tsx` - Root component
- `src/index.css` - Global styles with Tailwind
- `src/components/HelloWorld.tsx` - Hello World component
- `src/components/HelloWorld.test.tsx` - Component tests
- `src/test/setup.ts` - Test setup

**Backend (apps/api/):**
- `package.json` - Backend dependencies and scripts
- `tsconfig.json` - TypeScript configuration
- `jest.config.js` - Jest test configuration
- `nodemon.json` - Nodemon configuration
- `.eslintrc.cjs` - ESLint configuration
- `.env.example` - Environment variables template
- `.env` - Development environment variables
- `src/server.ts` - Server entry point
- `src/app.ts` - Express application setup
- `src/app.test.ts` - Application tests
- `src/middleware/errorHandler.ts` - Error handling middleware

**Test Infrastructure:**
- `tests/structure.test.js` - Monorepo structure validation tests

## QA Results
_To be filled by QA agent_